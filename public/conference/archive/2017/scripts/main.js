var el=document.getElementById("nav"),navBtn=document.getElementById("nav-btn");window.toggleClass=function(){"vertical-mode-closed"==el.className?(el.className="vertical-mode",navBtn.innerHTML="x"):(el.className="vertical-mode-closed",navBtn.innerHTML="&#x2261;")},window.onresize=function(){el.className="vertical-mode-closed",navBtn.innerHTML="&#x2261;"},nav.onclick=function(){el.className="vertical-mode-closed",navBtn.innerHTML="&#x2261;"},window.signupForUpdates=function(){var e=document.querySelector(".sign-up-field").value.toLowerCase(),n=document.querySelector(".sign-up-btn"),s=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/.test(e);if(e&&s){var t=new XMLHttpRequest;t.open("POST","/subscribe"),t.setRequestHeader("Content-Type","application/json;charset=UTF-8"),t.onreadystatechange=function(){4===t.readyState&&(200==t.status&&"done"==t.responseText?window.setTimeout(function(){n.classList.remove("btn-inprogress"),n.classList.add("btn-complete"),n.innerHTML='<i class="fa fa-check"></i> <span>You are subscribed!</span>',window.signupForUpdates=function(){}},1500):alert("An error occurred. Please try again later."))},n.innerHTML='<i class="fa fa-cog"></i> <span>please wait ...</span>',n.classList.add("btn-inprogress"),t.send(JSON.stringify({email:e}))}};var sigup=document.querySelector(".sign-up-field");sigup&&(sigup.onkeyup=function(e){13==e.keyCode&&window.signupForUpdates()}),"ontouchstart"in window?document.body.className+=" isTouch":document.body.className+=" isDesktop";